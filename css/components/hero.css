/* Hero section
   ─────────────────────────────────────────────────────────── */
@layer components {
  .hero{
    min-height:calc(var(--vh,100svh) - var(--nav-height,72px));
    margin:0 0 clamp(1.5rem,4vh,3rem);
    padding:clamp(4rem,7vh,6rem) 0 clamp(3.8rem,7vh,5.2rem);
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    overflow:hidden;
    isolation:isolate;
    text-align:center;
    background:linear-gradient(145deg,
      color-mix(in srgb,var(--bg) 94%, #0c121b 6%) 0%,
      color-mix(in srgb,var(--surface) 92%, #060a12 8%) 56%,
      color-mix(in srgb,var(--surface) 90%, #050910 10%) 100%);
  }

  @keyframes heroFade{from{opacity:0;transform:translateY(32px)}to{opacity:1;transform:none}}

  .hero::before{
    content:"";
    position:absolute;
    inset:-18% -28% -32%;
    z-index:-1;
    background:radial-gradient(120% 90% at 12% calc(18% + var(--hero-parallax,0px)),
      color-mix(in srgb,var(--primary) 14%, transparent) 0%,
      transparent 58%);
    opacity:.55;
    transition:opacity .4s ease;
  }

  .hero::after{
    content:"";
    position:absolute;
    inset:-40%;
    z-index:-2;
    background:radial-gradient(32% 32% at var(--mx,48%) calc(var(--my,38%) + var(--hero-parallax,0px)),
      color-mix(in srgb,var(--primary) 12%, transparent) 0%,
      transparent 64%);
    opacity:.45;
    pointer-events:none;
  }

  .hero .wrapper{
    width:100%;
    max-width:min(1040px, var(--container-max));
    margin-inline:auto;
    padding-inline:clamp(20px,5vw,48px);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:clamp(1.2rem,3vh,2rem);
    text-align:center;
  }

  .home-hero .wrapper{
    align-items:stretch;
    text-align:left;
  }

  .hero-layout{
    display:flex;
    flex-direction:column;
    gap:clamp(1.6rem,3vw,2.4rem);
    width:100%;
  }

  .home-hero .hero-layout{
    display:grid;
    grid-template-columns:minmax(0, 1.08fr) minmax(280px, .92fr);
    gap:clamp(1.8rem,4vw,3.2rem);
    align-items:center;
  }

  .home-hero .hero-copy{
    display:flex;
    flex-direction:column;
    gap:clamp(1rem,2vw,1.6rem);
    align-items:flex-start;
  }

  .home-hero .hero-copy :is(.hero-eyebrow,h1,.hero-tagline,.hero-status){
    text-align:left;
  }

  .home-hero .cta-group{
    justify-content:flex-start;
  }

  .hero-portrait-card{
    background:color-mix(in srgb,var(--surface) 90%, #04070e 10%);
    border:1px solid color-mix(in srgb,var(--border-subtle) 70%, transparent);
    border-radius:var(--card-radius-lg, 18px);
    padding:clamp(1.4rem,3vw,1.8rem);
    box-shadow:var(--card-shadow);
    display:flex;
    flex-direction:column;
    gap:clamp(.9rem,1.6vw,1.2rem);
    color:var(--text-light);
  }

  .hero-portrait-frame{
    width:100%;
    max-width:320px;
    margin-inline:auto;
    aspect-ratio:1 / 1;
    padding:12px;
    border-radius:28px;
    background:linear-gradient(150deg,
      color-mix(in srgb,var(--primary) 14%, transparent) 0%,
      color-mix(in srgb,var(--surface) 90%, #000 10%) 100%);
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow:0 16px 34px rgba(0,0,0,.28);
  }

  .hero-portrait-frame img{
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:20px;
    box-shadow:0 10px 26px rgba(0,0,0,.3);
  }

  .hero-portrait-meta{
    display:flex;
    flex-direction:column;
    gap:6px;
  }

  .hero-portrait-name{
    margin:0;
    font-family:'Poppins',sans-serif;
    font-weight:600;
    font-size:1.2rem;
    letter-spacing:.01em;
  }

  .hero-portrait-role{
    margin:0;
    color:color-mix(in srgb,var(--text-muted) 88%, #fff 12%);
    font-size:.98rem;
  }

  .hero-portrait-note{
    margin:0;
    color:color-mix(in srgb,var(--text-muted) 92%, #fff 8%);
    font-size:.92rem;
    line-height:1.5;
  }

  .hero-eyebrow{
    margin:0;
    font-size:.85rem;
    letter-spacing:.22em;
    text-transform:uppercase;
    color:color-mix(in srgb,var(--primary) 78%, #ffffff 22%);
    opacity:0;
    animation:heroFade 1s .3s forwards;
  }

  .hero h1{
    margin:0;
    font-size:clamp(2.6rem,4.3vw,3.8rem);
    line-height:1.15;
    letter-spacing:.4px;
    opacity:0;
    animation:heroFade 1s .4s forwards;
  }

  .hero-tagline{
    margin:0;
    font-size:1.12rem;
    line-height:1.75;
    color:var(--text-muted);
    max-width:48ch;
    opacity:0;
    animation:heroFade 1s .55s forwards;
  }
  .hero-noscript-hint{
    margin:0;
    font-size:.95rem;
    line-height:1.5;
    color:color-mix(in srgb,var(--text-muted) 90%, #fff 10%);
    max-width:48ch;
  }

  .hero-status{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:7px 20px;
    border-radius:999px;
    font-size:.82rem;
    font-weight:600;
    letter-spacing:.14em;
    text-transform:uppercase;
    background:color-mix(in srgb,var(--surface) 88%, #000 12%);
    color:color-mix(in srgb,var(--primary) 78%, #fff 22%);
    box-shadow:var(--card-shadow-soft);
    border:1px solid color-mix(in srgb,var(--border-subtle) 65%, transparent);
    opacity:0;
    animation:heroFade 1s .7s forwards;
  }

  .cta-group{
    display:flex;
    justify-content:center;
    gap:16px;
    flex-wrap:wrap;
    opacity:0;
    animation:heroFade 1s .85s forwards;
  }

  .hero-cta{min-width:0;}

  .hero-kpis{
    --kpi-gap:clamp(1rem,2vw,1.4rem);
    --kpi-inline-pad:clamp(1.25rem,1.9vw,1.7rem);
    --kpi-block-pad:clamp(1.15rem,1.8vw,1.55rem);
    --kpi-value-height:clamp(44px,4.2vw,58px);
    width:100%;
    max-width:min(1120px, var(--container-max));
    margin-inline:auto;
    list-style:none;
    margin-top:clamp(2.1rem,4.5vh,3.4rem);
    margin-bottom:0;
    padding:0;
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:var(--kpi-gap);
    align-items:stretch;
  }

  .hero-kpi{
    min-width:240px;
    flex:1 1 280px;
    max-width:320px;
    opacity:0;
    animation:heroFade .9s forwards;
  }
  .hero-kpi-link{
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:clamp(12px,1.4vw,18px);
    width:100%;
    height:100%;
    padding:var(--kpi-block-pad) var(--kpi-inline-pad) clamp(.75rem,1vw,.95rem);
    border-radius:var(--card-radius-lg, 18px);
    background:linear-gradient(165deg,
      color-mix(in srgb,var(--surface) 92%, #050910 8%) 0%,
      color-mix(in srgb,var(--surface) 86%, #050913 14%) 100%);
    border:1px solid color-mix(in srgb,var(--border-subtle) 70%, transparent);
    box-shadow:var(--card-shadow);
    color:inherit;
    text-align:center;
    position:relative;
    overflow:hidden;
    isolation:isolate;
    cursor:pointer;
  }
  .hero-kpi-link,
  .hero-kpi-link:hover,
  .hero-kpi-link:visited{
    text-decoration:none;
    text-decoration-line:none;
  }
  .hero-kpi-link:focus-visible{
    outline:3px solid var(--focus);
    outline-offset:6px;
    border-radius:16px;
  }
  .hero-kpi-link::before{
    content:"";
    position:absolute;
    inset:1px;
    border-radius:inherit;
    background:radial-gradient(120% 120% at 12% 0%,
      color-mix(in srgb,var(--primary) 24%, transparent) 0%,
      transparent 55%);
    opacity:.45;
    pointer-events:none;
    z-index:0;
  }
  .hero-kpi-link > *{
    position:relative;
    z-index:1;
    text-decoration:none;
  }
  .hero-kpi:nth-child(1){animation-delay:.95s;}
  .hero-kpi:nth-child(2){animation-delay:1.05s;}
  .hero-kpi:nth-child(3){animation-delay:1.15s;}

  .hero-kpi-value{
    display:flex;
    align-items:flex-end;
    justify-content:center;
    flex-wrap:wrap;
    column-gap:8px;
    row-gap:4px;
    font-family:'Poppins',sans-serif;
    font-size:clamp(1.6rem,3.2vw,2.2rem);
    font-weight:600;
    color:color-mix(in srgb,var(--text-light) 95%, #fff 5%);
    min-height:var(--kpi-value-height);
    text-align:center;
    white-space:normal;
    word-break:break-word;
    line-height:1.15;
    letter-spacing:.02em;
  }

  .hero-kpi-label{
    display:block;
    margin-top:6px;
    font-size:.92rem;
    color:color-mix(in srgb,var(--text-muted) 86%, #fff 14%);
    line-height:1.65;
    letter-spacing:.025em;
    max-width:32ch;
    text-align:center;
    margin-inline:auto;
  }

  .stack-band{
    padding:clamp(1.8rem,4vw,2.6rem) 0;
    background:color-mix(in srgb,var(--surface) 94%, #02070f 6%);
  }

  .stack-wrapper{
    display:flex;
    flex-direction:column;
    gap:clamp(.6rem,1.4vw,1rem);
    align-items:flex-start;
  }

  .stack-eyebrow{
    margin:0;
    text-transform:uppercase;
    letter-spacing:.2em;
    font-size:.78rem;
    color:color-mix(in srgb,var(--text-muted) 90%, #fff 10%);
  }

  .stack-chips{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
  }

  .stack-chip{
    display:inline-flex;
    align-items:center;
    padding:8px 14px;
    border-radius:999px;
    border:1px solid color-mix(in srgb,var(--border-subtle) 70%, transparent);
    background:color-mix(in srgb,var(--surface) 88%, #000 12%);
    box-shadow:var(--card-shadow-soft);
    font-size:.95rem;
    color:var(--text-light);
  }

  .chevron-hint{
    position:absolute;
    left:50%;
    bottom:16px;
    transform:translate(-50%,0);
    display:inline-flex;
    align-items:center;
    gap:.5rem;
    padding:.45rem .9rem .45rem .75rem;
    color:var(--primary);
    font-size:.82rem;
    font-weight:500;
    letter-spacing:.08em;
    text-transform:uppercase;
    text-decoration:none;
    border:1px solid color-mix(in srgb,var(--primary) 35%,transparent);
    border-radius:999px;
    background:color-mix(in srgb,var(--surface) 88%,#0b131f 12%);
    box-shadow:0 10px 24px rgba(3, 10, 18, .28);
    opacity:.95;
    cursor:pointer;
    transition:opacity .25s ease, background .2s ease, border-color .2s ease;
    animation:chevron-bob 1.8s infinite ease-in-out;
  }

  .chevron-hint:hover{
    background:color-mix(in srgb,var(--surface) 84%,#0b131f 16%);
    border-color:color-mix(in srgb,var(--primary) 50%,transparent);
  }

  .chevron-hint:focus-visible{
    outline:2px solid color-mix(in srgb,var(--primary) 80%,#fff 20%);
    outline-offset:4px;
  }

  .chevron-hint.fade{
    opacity:0;
    pointer-events:none;
    animation-play-state:paused;
  }

  .chevron-label{
    line-height:1.1;
  }

  .chevron-hint svg{
    width:32px;
    height:32px;
    display:block;
    flex-shrink:0;
  }

  @keyframes chevron-bob{
    0%,100%{transform:translate(-50%,0);}50%{transform:translate(-50%,4px);}
  }

  @media (min-width:769px){
    .hero-kpi{
      flex:0 1 280px;
    }
    .hero-kpi-link{
      width:auto;
      max-width:320px;
      margin-inline:auto;
    }
  }

  @media (max-width:1100px){
    .hero-kpis{
      justify-content:stretch;
    }
  }

  @media (max-width:960px){
    .home-hero .hero-layout{
      grid-template-columns:1fr;
    }
    .hero-portrait-card{
      max-width:min(520px, 92vw);
      margin-inline:auto;
    }
    .home-hero .hero-copy{
      align-items:center;
      text-align:center;
    }
    .home-hero .hero-copy :is(.hero-eyebrow,h1,.hero-tagline,.hero-status){
      text-align:center;
    }
  }

  @media (max-width:768px){
    .hero{
      --hero-action-width:min(520px, 92vw);
    }
    .hero .wrapper{
      align-items:center;
      text-align:center;
      padding-bottom:clamp(1.6rem,5vh,2.8rem);
      padding-top:clamp(1rem,3vh,1.8rem);
    }
    .hero-portrait-card{
      width:100%;
      text-align:center;
      align-items:center;
    }
    .hero-portrait-meta{
      align-items:center;
      text-align:center;
    }
    .hero .wrapper :is(.hero-eyebrow,.hero-tagline,.hero-status){
      text-align:center;
    }
    .cta-group{
      justify-content:center;
      width:var(--hero-action-width);
      max-width:100%;
      margin-inline:auto;
    }
    .cta-group .hero-cta{
      width:100%;
    }
    .hero-kpis{
      flex-direction:column;
      align-items:center;
      gap:clamp(1.1rem,4.5vw,1.6rem);
    }
    .hero-kpi{
      width:var(--hero-action-width);
      max-width:100%;
      flex-basis:auto;
      margin-inline:auto;
    }
    .hero-kpi-link{
      width:100%;
      padding:clamp(1.1rem,4.5vw,1.5rem) clamp(1.2rem,5.4vw,1.6rem) clamp(.7rem,3vw,1rem);
      text-align:center;
      align-items:center;
    }
    .hero-kpi-value{
      justify-content:center;
      text-align:center;
      font-size:clamp(1.32rem,5vw,1.95rem);
    }
    .hero-kpi-label{
      text-align:center;
      margin-inline:auto;
      font-size:clamp(.88rem,3.8vw,1rem);
    }
    body[data-page="home"] .chevron-hint{
      display:none;
    }
    body:not([data-page="home"]) .chevron-hint{
      display:inline-flex;
    }
  }

  @media (max-width:640px){
    .hero{
      padding-inline:18px;
    }
    .hero .wrapper{
      align-items:center;
      text-align:center;
    }
    .hero .wrapper :is(.hero-eyebrow,.hero-tagline,.hero-status){
      text-align:center;
    }
    .cta-group{
      width:100%;
      flex-direction:column;
      align-items:center;
    }
    .hero-cta{
      width:100%;
      justify-content:center;
    }
    .hero-kpi{
      width:100%;
      max-width:100%;
    }
    .hero-kpis{
      grid-template-columns:minmax(0,1fr);
    }
  }

  @media (prefers-reduced-motion: reduce){
    .hero-eyebrow,
    .hero h1,
    .hero-tagline,
    .hero-status,
    .cta-group,
    .hero-kpis,
    .hero-kpi{
      animation:none !important;
      opacity:1 !important;
      transform:none !important;
    }
    .hero::before,
    .hero::after{
      transition:none !important;
      opacity:.4 !important;
    }
  }
}
