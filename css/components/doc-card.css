/* Contributions doc cards and carousel */
@layer components {
  .hero-value{
    max-width:720px;
    margin-top:16px;
    color:var(--text-muted);
  }
  .hero-actions{
    display:flex;
    flex-wrap:wrap;
    gap:12px;
    margin-top:20px;
  }
  .hero-metrics{
    margin-top:32px;
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:16px;
  }
  .hero-metric{
    background:var(--surface);
    border:1px solid var(--border-subtle);
    border-radius:14px;
    padding:16px 18px;
  }
  .metric-value{
    margin:0;
    font-size:1.65rem;
    font-weight:600;
    color:var(--text-light);
  }
  .metric-label{
    margin:4px 0 0;
    color:var(--text-muted);
    font-size:.9rem;
  }

  /* row separator */
  .contrib-gap{ height:64px; background:var(--surface); }

  .docs-grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
    gap:28px; padding:24px 0; row-gap:8px;
  }
  .doc-card{
    position:relative; display:flex; justify-content:space-between; align-items:center;
    gap:18px; padding:26px 24px; background:var(--surface);
    border:1px solid var(--border-subtle); border-radius:14px;
    transition:transform .25s,box-shadow .25s,background .25s,border-color .25s
  }
  .doc-card:hover{background:var(--primary);transform:translateY(-6px);box-shadow:0 12px 28px color-mix(in srgb, var(--primary) 35%, transparent);border-color:var(--primary)}
  .doc-card:hover .doc-role,.doc-card:hover h3{color:var(--bg)}
  .doc-body h3{margin:0 0 6px;font-family:'Poppins';font-size:1.05rem;font-weight:600}
  .doc-role{margin:0;font-size:.85rem;color:var(--text-muted)}
  .doc-links{display:flex;gap:14px;margin-left:14px;}
  .doc-link{ display:flex;align-items:center;justify-content:center;width:42px;height:42px; font-size:1.6rem;color:inherit;border:2px solid currentColor;border-radius:10px;transition:background .25s }
  .doc-card:hover .doc-link{background:rgba(0,0,0,.15); color: var(--bg); border-color: var(--bg);}
  .doc-link svg{ width:22px; height:22px; color: currentColor; }

  .docs-carousel{display:flex;gap:28px;overflow-x:auto;scroll-snap-type:smooth;margin-inline:-24px;padding:8px 24px}
  .docs-carousel>.doc-card{flex:0 0 260px;scroll-snap-align:center}
  .docs-carousel.dragging{cursor:grabbing;user-select:none}

  .contrib-section{ margin-top:32px; margin-bottom:32px; }
  .section-header{
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:24px;
    margin-bottom:18px;
  }
  .section-count{
    margin:0;
    font-weight:600;
    color:var(--text-muted);
    white-space:nowrap;
  }

  /* Themed scrollbars for contributions page */
  .contributions-page .docs-carousel{ scrollbar-color: var(--primary) var(--bg); }
  .contributions-page::-webkit-scrollbar{ width:10px; background:var(--surface); }
  .contributions-page::-webkit-scrollbar-thumb{ background:var(--primary); border-radius:6px; }
  .contributions-page .docs-carousel::-webkit-scrollbar{ height:8px; background:var(--surface); }
  .contributions-page .docs-carousel::-webkit-scrollbar-thumb{ background:var(--primary); border-radius:4px; }
  .contributions-page .docs-carousel::-webkit-scrollbar-thumb:hover,
  .contributions-page::-webkit-scrollbar-thumb:hover{ background:color-mix(in srgb,var(--primary) 75%, #000 25%); }

  /* additional layout helpers used by doc cards */
  .doc-layout{ display:flex; flex-direction:column; justify-content:space-between; height:100%; }
  .doc-title{ font-family:'Poppins'; font-size:1.1rem; font-weight:600; color:var(--text-light); margin-top:0; }
  .doc-footer{ display:flex; justify-content:space-between; align-items:flex-end; margin-top:auto; }
  .doc-footer .doc-role{ font-size:.85rem; color:var(--text-muted); margin:0; }
  .doc-footer .doc-links{ display:flex; gap:12px; }

  .spotlight-section{ margin-top:24px; }
  .spotlight-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
    gap:24px;
    margin-top:18px;
  }
  .spotlight-card{
    border:1px solid var(--border-subtle);
    border-radius:18px;
    padding:24px;
    background:var(--surface);
    display:flex;
    flex-direction:column;
    gap:12px;
    min-height:100%;
  }
  .spotlight-focus{
    margin:0;
    text-transform:uppercase;
    font-size:.75rem;
    letter-spacing:.08em;
    color:var(--text-muted);
  }
  .spotlight-context,
  .spotlight-summary,
  .spotlight-impact{
    margin:0;
  }
  .spotlight-impact strong{
    color:var(--primary);
  }
  .spotlight-tags{
    list-style:none;
    margin:0;
    padding:0;
    display:flex;
    flex-wrap:wrap;
    gap:8px;
  }
  .spotlight-tags li{
    padding:4px 12px;
    border-radius:999px;
    font-size:.82rem;
    background:color-mix(in srgb,var(--primary) 12%, transparent);
  }
  .spotlight-actions{
    display:flex;
    flex-wrap:wrap;
    gap:12px;
    margin-top:auto;
  }
  .spotlight-btn{
    flex:1 1 160px;
    text-align:center;
  }

  .contrib-filter-band{
    margin-top:16px;
    padding-block:20px;
  }
  .contrib-filter-bar{
    display:flex;
    flex-wrap:wrap;
    gap:12px;
    align-items:center;
  }
  .contrib-filter-bar label{
    font-weight:600;
    color:var(--text-muted);
  }
  .contrib-select{
    min-width:220px;
    padding:10px 16px;
    border-radius:999px;
    border:1px solid var(--border-subtle);
    background:var(--bg);
    color:var(--text-light);
  }
  .contrib-select:focus-visible{
    outline:2px solid var(--primary);
    outline-offset:2px;
  }
  .filter-status{
    margin:10px 0 0;
    font-size:.9rem;
    color:var(--text-muted);
  }

  .contrib-accordion{
    border:1px solid var(--border-subtle);
    border-radius:18px;
    margin-bottom:16px;
    background:var(--surface);
    overflow:hidden;
  }
  .contrib-accordion summary{
    cursor:pointer;
    list-style:none;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    padding:18px 22px;
    font-weight:600;
  }
  .contrib-accordion summary::-webkit-details-marker{ display:none; }
  .contrib-accordion .badge{
    background:color-mix(in srgb,var(--primary) 15%, transparent);
    color:var(--text-light);
    border-radius:999px;
    padding:2px 10px;
    font-size:.8rem;
  }
  .contrib-accordion[open]{ box-shadow:0 16px 28px color-mix(in srgb,var(--primary) 8%, transparent); }
  .contrib-accordion[open] summary{
    border-bottom:1px solid var(--border-subtle);
  }
  .contrib-accordion .docs-grid{
    padding:20px;
  }

  /* mobile alignment for footer/content */
  @media (max-width:768px){
    .doc-card{ position:relative; padding-bottom:96px; }
    .doc-footer{ position:absolute; left:24px; right:24px; bottom:24px; display:flex; justify-content:space-between; align-items:flex-end; }
    .doc-links{ position:static; display:flex; gap:12px; }
    .docs-grid{ grid-template-columns:1fr; }
    .hero-metrics{ grid-template-columns:1fr 1fr; }
  }

  @media (max-width:540px){
    .hero-metrics{ grid-template-columns:1fr; }
    .section-header{ flex-direction:column; }
    .spotlight-actions{ flex-direction:column; }
    .spotlight-btn{ width:100%; }
  }
}
