/* Hero section */
/* ───────────────────────────────────────────────────────────
   4.  HERO
   ─────────────────────────────────────────────────────────── */
@layer components {
  .hero{
    /* exactly fill the viewport below the fixed header */
    height: calc(var(--vh, 100svh) - var(--nav-height, 72px));
    margin-top: 0;
    padding-top: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    background: var(--surface);
    position: relative;
    overflow: hidden;
    isolation: isolate;
    --hero-scale: 1;
    --hero-heading-size: clamp(32px, 4vw + 24px, 60px);
    --hero-copy-size: clamp(18px, 2vw + 14px, 22px);
    --hero-status-size: clamp(0.78rem, 0.72rem + 0.45vw, 0.92rem);
    --hero-gap: clamp(20px, 7vw, 30px);
    --hero-cta-font-size: clamp(1.05rem, 0.95rem + 0.4vw, 1.25rem);
    --hero-cta-pad-block: clamp(14px, 4vw, 18px);
    --hero-cta-pad-inline: clamp(28px, 7vw, 36px);
  }
  @keyframes fadeUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:none}}
  @keyframes gradShift{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
  .hero h1,.hero p,.hero .btn-primary{opacity:0}
  .hero h1{animation:fadeUp 1s .5s forwards}
  .hero p {animation:fadeUp 1s .8s forwards;color:var(--text-muted);max-width:40rem}
  .hero .btn-primary{animation:fadeUp 1s 1.1s forwards}
  .hero::before{
    content:"";position:absolute;inset:0;z-index:-1;opacity:.10;
    background:linear-gradient(120deg,var(--primary)0%,var(--primary)15%,var(--surface)75%,var(--bg)100%);
    background-size:400% 400%;animation:gradShift 18s ease-in-out infinite;
    /* Parallax via background-position to avoid geometric shift */
    background-position: 50% calc(var(--hero-parallax, 0px));
    will-change: background-position;
  }
  /* Ambient light following the pointer (desktop only) */
  .hero::after{
    content:"";position:absolute;inset:0;z-index:-1;pointer-events:none;
    opacity:0;transition:opacity .3s ease;
    background: radial-gradient(180px 140px at var(--mx,50%) var(--my,35%),
      color-mix(in srgb, var(--primary) 18%, transparent), transparent 70%);
  }
  @media (hover:hover) and (pointer:fine){
    .hero:hover::after{ opacity:.12; }
  }
  @keyframes rippleFade{0%{opacity:0;transform:scale(.92)}100%{opacity:1;transform:none}}
  .hero-cta{opacity:0;animation:fadeUp 1s 1.15s forwards}
  .hero-cta:nth-of-type(2){animation-delay:1.3s}
  .hero-status{
    display:inline-block;margin:.5rem 0 1.2rem;
    background:color-mix(in srgb,var(--surface) 50%,transparent);
    color:var(--primary);font-size:.8rem;font-weight:600;
    padding:4px 12px;border-radius:6px
  }
  .hero .wrapper{
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: calc(var(--hero-gap) * var(--hero-scale));
    text-align: center;
    padding-inline: clamp(16px, 8vw, 32px);
    width: min(680px, 100%);
  }
  .hero .wrapper > * {
    margin: 0;
  }
  .chevron-hint{
    position:absolute;bottom:16px;left:50%;transform:translateX(-50%);
    color:var(--primary);pointer-events:auto;cursor:pointer;
    opacity:1;transition:opacity .3s ease;
  }
  .chevron-hint i{
    animation:chevronBounce 1.5s infinite;
  }
  .chevron-hint.fade{opacity:0}

  @keyframes chevronBounce{
    0%,100%{transform:translateY(0)}
    50%{transform:translateY(6px)}
  }
  /* Ensure hero can position the chevron */
  .hero { position: relative; }

  /* Ensure no gap between hero and the next section */
  .hero + section { margin-top: 0 !important; }

  /* Scroll indicator chevron at bottom of hero */
  .chevron-hint,
  .scroll-indicator {
    position: absolute;
    left: 50%;
    bottom: clamp(12px, 4vh, 24px);
    transform: translateX(-50%);
    color: var(--primary);
    font-size: 28px;
    line-height: 1;
    opacity: 0.95;
    pointer-events: auto; /* allow clicks */
    animation: chevron-bob 1.8s infinite ease-in-out;
  }

  /* Increase clickable chevron size */
  .chevron-hint svg,
  .scroll-indicator svg {
    width: 36px;
    height: 36px;
    display: block;
  }

  /* Simple bobbing animation */
  @keyframes chevron-bob {
    0%,100% { transform: translate(-50%, 0); }
    50%     { transform: translate(-50%, 6px); }
  }

  @media (prefers-reduced-motion: reduce) {
    .hero h1,
    .hero p,
    .hero .btn-primary,
    .hero-cta,
    .chevron-hint,
    .scroll-indicator {
      animation: none !important;
    }
    .hero::before,
    .hero::after {
      animation: none !important;
      transition: none !important;
      opacity: 0 !important;
    }
  }

  @media (max-width: 768px) {
    .hero{
      --hero-heading-size: clamp(28px, 8vw + 6px, 48px);
      --hero-copy-size: clamp(16px, 5.2vw, 19px);
      --hero-gap: clamp(16px, 6vw, 24px);
      --hero-cta-font-size: clamp(1rem, 0.95rem + 0.3vw, 1.15rem);
      --hero-cta-pad-block: clamp(12px, 5vw, 16px);
      --hero-cta-pad-inline: clamp(24px, 10vw, 32px);
    }
  }
}
