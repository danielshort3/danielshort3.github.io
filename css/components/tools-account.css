@layer components {
  .tools-account-dock{
    position:relative;
    z-index:2;
    padding:clamp(14px,3vh,18px) 0 0;
  }

  .tools-account-bar{
    display:flex;
    flex-wrap:wrap;
    align-items:center;
    gap:10px;
    padding:12px 14px;
    border-radius:16px;
    border:1px solid color-mix(in srgb,var(--primary) 22%, transparent);
    background:linear-gradient(150deg,
      color-mix(in srgb,var(--surface) 94%, #040910 6%) 0%,
      color-mix(in srgb,var(--surface) 82%, #040910 18%) 100%);
    box-shadow:0 16px 32px rgba(0,0,0,.24);
  }

  .tools-account-status{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    align-items:baseline;
    flex-basis:100%;
    margin:0;
    color:var(--text-muted);
    font-size:.95rem;
    line-height:1.5;
  }

  .tools-account-pill{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:6px 10px;
    border-radius:999px;
    border:1px solid color-mix(in srgb,var(--primary) 18%, transparent);
    background:color-mix(in srgb,var(--surface) 92%, #000 8%);
    color:color-mix(in srgb,var(--text-light) 92%, #ffffff 8%);
    font-weight:600;
    font-size:.9rem;
    letter-spacing:.01em;
  }

  .tools-account-pill.is-authed{
    border-color:color-mix(in srgb,var(--success) 45%, transparent);
    background:color-mix(in srgb,var(--success) 12%, var(--surface) 88%);
    color:color-mix(in srgb,var(--text-light) 92%, var(--success) 8%);
  }

  .tools-dashboard-section{
    padding:clamp(2.6rem,6vh,3.4rem) 0;
  }

  .tools-dashboard-status{
    margin:0 0 16px;
    color:var(--text-muted);
    font-size:.98rem;
    line-height:1.6;
  }

  .tools-dashboard-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
    gap:clamp(16px,3vw,22px);
    align-items:start;
  }

  .tools-dashboard-card{
    padding:clamp(1.1rem,2vw,1.4rem);
    border-radius:16px;
    border:1px solid color-mix(in srgb,var(--primary) 18%, transparent);
    background:linear-gradient(150deg,
      color-mix(in srgb,var(--surface) 94%, #040910 6%) 0%,
      color-mix(in srgb,var(--surface) 82%, #040910 18%) 100%);
    box-shadow:0 16px 32px rgba(0,0,0,.24);
  }

  .tools-dashboard-card-head{
    display:grid;
    gap:6px;
    margin-bottom:14px;
    max-width:70ch;
  }

  .tools-dashboard-card h2{
    margin:0;
    font-size:1.15rem;
    letter-spacing:.01em;
  }

  .tools-dashboard-subtitle{
    margin:0;
    color:var(--text-muted);
    font-size:.95rem;
    line-height:1.6;
  }

  .tools-dashboard-list{
    display:grid;
    gap:10px;
  }

  .tools-dashboard-item{
    display:flex;
    justify-content:space-between;
    gap:14px;
    padding:12px 12px;
    border-radius:14px;
    border:1px solid color-mix(in srgb,var(--primary) 14%, transparent);
    background:color-mix(in srgb,var(--surface) 92%, #000 8%);
  }

  .tools-dashboard-item a{
    color:inherit;
    text-decoration:none;
  }

  .tools-dashboard-item-title{
    margin:0;
    font-weight:700;
    letter-spacing:.01em;
  }

  .tools-dashboard-item-meta{
    margin:4px 0 0;
    color:var(--text-muted);
    font-size:.9rem;
    line-height:1.5;
  }

  .tools-dashboard-item-actions{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    justify-content:flex-end;
    align-items:flex-start;
  }

  .tools-dashboard-empty{
    margin:0;
    padding:10px 0;
    color:var(--text-muted);
    font-size:.95rem;
    line-height:1.6;
  }

  .tools-account-modal-actions{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    justify-content:center;
  }

  .tools-account-modal-status{
    min-height:1.2em;
    margin:0;
    color:var(--text-muted);
    font-size:.95rem;
    line-height:1.6;
    text-align:center;
  }

  .tools-account-modal-meta{
    margin:0;
    display:grid;
    gap:10px;
  }

  .tools-account-modal-meta-row{
    display:flex;
    flex-wrap:wrap;
    justify-content:space-between;
    gap:10px;
    padding:10px 12px;
    border-radius:14px;
    border:1px solid color-mix(in srgb,var(--primary) 14%, transparent);
    background:color-mix(in srgb,var(--surface) 92%, #000 8%);
  }

  .tools-account-modal-meta-row dt{
    margin:0;
    font-weight:700;
    letter-spacing:.01em;
  }

  .tools-account-modal-meta-row dd{
    margin:0;
    color:var(--text-muted);
    overflow-wrap:anywhere;
    text-align:right;
  }

  .tools-session-modal-actions{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    justify-content:center;
  }

  .tools-session-modal-status{
    min-height:1.2em;
    margin:0;
    color:var(--text-muted);
    font-size:.95rem;
    line-height:1.6;
    text-align:center;
  }

  .tools-session-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
    gap:clamp(16px,3vw,22px);
    align-items:start;
  }

  .tools-session-output-summary{
    margin:0 0 12px;
    color:var(--text-muted);
    font-size:.95rem;
    line-height:1.6;
  }

  .tools-session-output:not(.textcompare-output){
    padding:14px 14px;
    border-radius:14px;
    border:1px solid color-mix(in srgb,var(--primary) 14%, transparent);
    background:color-mix(in srgb,var(--surface) 92%, #000 8%);
    overflow:auto;
    max-height:min(520px, 60vh);
  }

  .tools-session-image{
    display:block;
    max-width:100%;
    height:auto;
    margin:0 auto;
    border-radius:12px;
    background:color-mix(in srgb,var(--surface) 96%, #02070d 4%);
  }

  .tools-session-fields{
    display:grid;
    gap:10px;
  }

  .tools-session-field{
    border-radius:14px;
    border:1px solid color-mix(in srgb,var(--primary) 14%, transparent);
    background:color-mix(in srgb,var(--surface) 92%, #000 8%);
    padding:10px 12px;
  }

  .tools-session-field > summary{
    cursor:pointer;
    list-style:none;
    font-family:'Poppins';
    font-weight:600;
    letter-spacing:.01em;
    color:color-mix(in srgb,var(--text-light) 92%, #ffffff 8%);
  }

  .tools-session-field > summary::-webkit-details-marker{
    display:none;
  }

  .tools-session-field > summary::before{
    content:"▸";
    display:inline-block;
    width:1em;
    margin-right:6px;
    color:color-mix(in srgb,var(--primary) 78%, #ffffff 22%);
    transition:transform .2s ease;
  }

  .tools-session-field[open] > summary::before{
    transform:rotate(90deg);
  }

  .tools-session-field-meta{
    margin:8px 0 10px;
    color:var(--text-muted);
    font-size:.9rem;
    line-height:1.5;
  }

  .tools-session-pre{
    margin:0;
    padding:12px 12px;
    border-radius:12px;
    border:1px solid color-mix(in srgb,var(--primary) 14%, transparent);
    background:color-mix(in srgb,var(--surface) 96%, #02070d 4%);
    color:color-mix(in srgb,var(--text-light) 96%, #ffffff 4%);
    white-space:pre-wrap;
    overflow-wrap:anywhere;
    max-height:min(480px, 55vh);
    overflow:auto;
    font-size:.93rem;
    line-height:1.6;
  }

  .tools-session-truncate-note{
    margin:10px 0 0;
    color:var(--text-muted);
    font-size:.9rem;
    line-height:1.5;
  }

  .tools-session-advanced{
    margin-top:12px;
    border-radius:16px;
    border:1px solid color-mix(in srgb,var(--primary) 14%, transparent);
    background:color-mix(in srgb,var(--surface) 94%, #000 6%);
    padding:12px 14px;
  }

  .tools-session-advanced > summary{
    cursor:pointer;
    list-style:none;
    font-family:'Poppins';
    font-weight:600;
    letter-spacing:.01em;
    color:color-mix(in srgb,var(--text-light) 92%, #ffffff 8%);
  }

  .tools-session-advanced > summary::-webkit-details-marker{
    display:none;
  }

  .tools-session-advanced > summary::before{
    content:"▸";
    display:inline-block;
    width:1em;
    margin-right:6px;
    color:color-mix(in srgb,var(--primary) 78%, #ffffff 22%);
    transition:transform .2s ease;
  }

  .tools-session-advanced[open] > summary::before{
    transform:rotate(90deg);
  }

  .tools-session-advanced .tools-session-fields{
    margin-top:12px;
  }

  @media (prefers-reduced-motion: reduce){
    .tools-session-field > summary::before{
      transition:none !important;
    }
    .tools-session-advanced > summary::before{
      transition:none !important;
    }
  }
}
