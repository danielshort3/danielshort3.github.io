/* ===================================================================
   File: helpers.css
   Purpose: Reveal animations and misc helpers
=================================================================== */
@layer utilities {
/* Utility helpers and page-specific tweaks */
/* ───────────────────────────────────────────────────────────
   11.  REVEAL + EXTRAS
   ─────────────────────────────────────────────────────────── */
.reveal{
  opacity:0;
  transform:translateY(50px);
  transition:opacity .7s cubic-bezier(.2,.7,.3,1),transform .7s cubic-bezier(.2,.7,.3,1);
}
.reveal.active{opacity:1;transform:none}
html.no-js .reveal{
  opacity:1;
  transform:none;
}
.interest-pad{
  padding:48px 0;
}
#filters{
  margin-top:0;
  transition:height .45s cubic-bezier(.22,.61,.36,1),
             padding .45s cubic-bezier(.22,.61,.36,1),
             opacity .35s ease;
  will-change:height,padding,opacity
}
#filters.grid-fade{opacity:0 !important}

/* gap between carousel and filters */
#carousel-gap{
  padding:32px 0; /* 64px total spacing */
  background:transparent;
  transition:padding .45s cubic-bezier(.22,.61,.36,1),
             opacity .35s ease;
  will-change:padding,opacity
}
#carousel-gap.grid-fade{opacity:0 !important}
.contact-big{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:28px;padding:32px
}

@media (max-width:768px){
  /* keep cards full-width with breathing room on mobile */
  .contact-big{padding:28px 0 32px}
}
.contact-big .contact-card{padding:32px}
.contact-card i{font-size:38px}

/* ─────────────────────────────────────────────────────────── */
  /* Performance: avoid work for offscreen sections */
  #projects.grid { content-visibility: auto; contain-intrinsic-size: 800px; }
  .docs-grid     { content-visibility: auto; contain-intrinsic-size: 600px; }
  .featured-track, .cert-track { content-visibility: auto; contain-intrinsic-size: 220px; }

  /* Back to top button */
  .back-to-top{
    position:fixed;right:18px;bottom:18px;z-index:1100;
    width:44px;height:44px;border-radius:10px;
    background:var(--surface);color:var(--primary);
    border:2px solid var(--primary);
    display:inline-flex;align-items:center;justify-content:center;
    box-shadow: var(--shadow-sm);
    opacity:0;transform:translateY(8px);pointer-events:none;
    transition:opacity .25s, transform .25s;
  }
  .back-to-top svg{width:22px;height:22px;color:currentColor}
  .back-to-top.show{opacity:1;transform:none;pointer-events:auto}

  @media (hover:none) and (pointer:coarse), (max-width:768px){
    body[data-page="home"] .back-to-top{
      bottom:calc(18px + env(safe-area-inset-bottom, 0px) + 104px);
    }
  }
}
