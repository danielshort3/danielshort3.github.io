<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <base href="/">
  <title>Short Links (Admin) | Daniel Short</title>
  <meta name="description" content="Private dashboard for managing short redirect links.">
  <meta name="theme-color" content="#0D1117">
  <link rel="stylesheet" href="dist/styles.css">
  <link rel="icon" href="favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="16x16" href="img/ui/logo-16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="img/ui/logo-32.png">
  <link rel="icon" type="image/png" sizes="64x64" href="img/ui/logo-64.png">
  <link rel="icon" type="image/png" sizes="192x192" href="img/ui/logo-192.png">
  <link rel="apple-touch-icon" sizes="180x180" href="img/ui/logo-180.png">
  <script src="js/common/no-js.js"></script>
</head>
<body data-page="short-links">
  <a href="#main" class="skip-link">Skip to main content</a>
  <header id="combined-header-nav"></header>

  <section class="tools-hero">
    <div class="wrapper">
      <p class="hero-eyebrow">Short Links - Admin dashboard.</p>
      <h1 class="visually-hidden">Short Links</h1>
    </div>
  </section>

  <div class="tools-account-dock" data-tools-account="dock">
    <div class="wrapper tools-account-dock-inner" data-tools-account="dock-inner">
      <div class="tools-account-bar" data-tools-account="bar"></div>
    </div>
  </div>

  <main id="main">

    <section class="surface-band tools-section reveal">
      <div class="wrapper">
        <details class="shortlinks-access-details" data-shortlinks="access-details">
          <summary class="shortlinks-access-summary">
            <h2 class="section-title">Access</h2>
            <span class="shortlinks-access-meta" data-shortlinks="access-meta"></span>
          </summary>
          <div class="shortlinks-access-body">
            <form class="contact-form" data-shortlinks="auth">
              <div class="form-field">
                <label for="shortlinks-token">Admin token</label>
                <input id="shortlinks-token" type="password" inputmode="text" autocomplete="current-password" data-shortlinks="token">
                <p class="contact-form-note">Stored in <code>localStorage</code> on this device.</p>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn-primary"><span class="btn-label">Save token</span></button>
                <button type="button" class="btn-secondary" data-shortlinks="forget-token">Forget token</button>
                <button type="button" class="btn-secondary" data-shortlinks="refresh">Refresh list</button>
                <button type="button" class="btn-secondary" data-shortlinks="health">Check backend</button>
              </div>
              <div class="contact-form-status" data-shortlinks="status" role="status" aria-live="polite"></div>
              <div class="contact-form-status" data-shortlinks="health-status" role="status" aria-live="polite"></div>
            </form>
          </div>
        </details>
      </div>
    </section>

    <section class="surface-band tools-section reveal">
      <div class="wrapper">
        <details class="shortlinks-panel" open data-shortlinks="editor-details">
          <summary class="shortlinks-panel-summary">
            <h2 class="section-title">Create / Update</h2>
          </summary>
          <div class="shortlinks-panel-body">
            <form class="contact-form" data-shortlinks="editor">
              <div class="form-field">
                <label for="shortlinks-slug">Slug</label>
                <input id="shortlinks-slug" type="text" inputmode="text" autocomplete="off" autocapitalize="none" spellcheck="false" placeholder="github" data-shortlinks="slug">
                <p class="contact-form-note">Allowed: <code>a-z</code>, <code>0-9</code>, <code>-</code>, <code>_</code>, and <code>/</code> (for nesting).</p>
              </div>
              <div class="form-field">
                <label for="shortlinks-destination">Destination</label>
                <div class="shortlinks-destination-row">
                  <input id="shortlinks-destination" type="text" inputmode="url" autocomplete="off" autocapitalize="none" spellcheck="false" placeholder="https://example.com" data-shortlinks="destination">
                  <button type="button" class="btn-ghost" data-shortlinks="destination-picker-open">Browse site pages</button>
                </div>
                <p class="contact-form-note">Must start with <code>/</code> or <code>http(s)://</code>.</p>
              </div>
              <div class="form-actions shortlinks-editor-actions">
                <button type="button" class="btn-primary" data-shortlinks="get-permanent"><span class="btn-label">Get permanent link</span></button>
                <button type="button" class="btn-secondary" data-shortlinks="get-temporary">Get temporary link</button>
                <button type="button" class="btn-secondary" data-shortlinks="clear">Reset form</button>
              </div>
              <div class="contact-form-status" data-shortlinks="editor-status" role="status" aria-live="polite"></div>
            </form>
          </div>
        </details>
      </div>
    </section>

    <section class="surface-band tools-section reveal">
      <div class="wrapper">
        <details class="shortlinks-panel" open data-shortlinks="links-details">
          <summary class="shortlinks-panel-summary">
            <h2 class="section-title">Links</h2>
          </summary>
          <div class="shortlinks-panel-body">
            <div class="shortlinks-toolbar">
              <label class="shortlinks-filter">
                <span class="shortlinks-filter-label">Filter</span>
                <input type="search" autocomplete="off" spellcheck="false" placeholder="Search slugs & destinations…" data-shortlinks="filter">
              </label>
              <p class="shortlinks-count" data-shortlinks="count" aria-live="polite"></p>
            </div>
            <div class="contact-form-status" data-shortlinks="list-status" role="status" aria-live="polite"></div>
            <div class="shortlinks-list" data-shortlinks="list" aria-live="polite"></div>
          </div>
        </details>
      </div>
    </section>

    <div class="modal shortlinks-modal" id="shortlinks-destination-modal" data-shortlinks="destination-modal" aria-hidden="true">
      <div class="modal-content modal-wide" role="dialog" aria-modal="true" tabindex="-1" aria-labelledby="shortlinks-destination-title">
        <button type="button" class="modal-close" aria-label="Close dialog" data-shortlinks="destination-modal-close">&times;</button>
        <div class="modal-title-strip">
          <h3 class="modal-title" id="shortlinks-destination-title">Pick a destination</h3>
          <p class="modal-subtitle">Select an internal page on <code>danielshort.me</code>. The value is saved as a full URL so it works from any origin.</p>
        </div>
        <div class="modal-body stacked shortlinks-picker">
          <label class="shortlinks-picker-search">
            <span class="shortlinks-picker-search-label">Search</span>
            <input type="search" autocomplete="off" spellcheck="false" placeholder="Search pages…" data-shortlinks="destination-search">
          </label>
          <div class="shortlinks-picker-results" data-shortlinks="destination-results" aria-live="polite"></div>
        </div>
      </div>
    </div>

    <div class="modal shortlinks-modal" id="shortlinks-clicks-modal" data-shortlinks="clicks-modal" aria-hidden="true">
      <div class="modal-content modal-wide" role="dialog" aria-modal="true" tabindex="-1" aria-labelledby="shortlinks-clicks-title">
        <button type="button" class="modal-close" aria-label="Close dialog" data-shortlinks="clicks-modal-close">&times;</button>
        <div class="modal-title-strip">
          <h3 class="modal-title" id="shortlinks-clicks-title">Click history</h3>
          <p class="modal-subtitle">Recent clicks for <code data-shortlinks="clicks-slug"></code>.</p>
        </div>
        <div class="modal-body stacked shortlinks-clicks">
          <div class="contact-form-status" data-shortlinks="clicks-status" role="status" aria-live="polite"></div>
          <div class="shortlinks-clicks-toolbar">
            <button type="button" class="btn-secondary" data-shortlinks="clicks-refresh">Refresh</button>
            <p class="shortlinks-clicks-meta" data-shortlinks="clicks-meta" aria-live="polite"></p>
          </div>
          <div class="shortlinks-clicks-list" data-shortlinks="clicks-list" aria-live="polite"></div>
        </div>
      </div>
    </div>

    <div class="modal shortlinks-modal" id="shortlinks-temporary-modal" data-shortlinks="temporary-modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true" tabindex="-1" aria-labelledby="shortlinks-temporary-title">
        <button type="button" class="modal-close" aria-label="Close dialog" data-shortlinks="temporary-modal-close">&times;</button>
        <div class="modal-title-strip">
          <h3 class="modal-title" id="shortlinks-temporary-title">Temporary link</h3>
          <p class="modal-subtitle">Choose how long this short link stays active. After it expires, it will return <strong>Not Found</strong>.</p>
        </div>
        <div class="modal-body stacked">
          <form class="contact-form" data-shortlinks="temporary-form">
            <div class="form-field">
              <label for="shortlinks-temporary-value">Active for</label>
              <div class="shortlinks-temporary-row">
                <input id="shortlinks-temporary-value" type="number" min="1" step="1" value="7" inputmode="numeric" autocomplete="off" data-shortlinks="temporary-value">
                <select id="shortlinks-temporary-unit" data-shortlinks="temporary-unit">
                  <option value="minutes">Minutes</option>
                  <option value="hours">Hours</option>
                  <option value="days" selected>Days</option>
                  <option value="weeks">Weeks</option>
                </select>
              </div>
              <p class="contact-form-note">Tip: use temporary links for time-sensitive shares and campaign testing.</p>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn-primary"><span class="btn-label">Create temporary link</span></button>
              <button type="button" class="btn-secondary" data-shortlinks="temporary-cancel">Cancel</button>
            </div>
            <div class="contact-form-status" data-shortlinks="temporary-status" role="status" aria-live="polite"></div>
          </form>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <nav class="privacy-links" aria-label="Privacy shortcuts">
      <button id="privacy-settings-link" type="button" class="pcz-link">Privacy settings</button>
      <a href="privacy#prefs-title" class="pcz-link" data-consent-open="true">
        Do Not Sell/Share My Personal Information
      </a>
    </nav>
  </footer>

  <script defer src="js/common/common.js"></script>
  <script defer src="js/navigation/navigation.js"></script>
  <script defer src="js/animations/animations.js"></script>
  <script defer src="js/admin/short-links.js"></script>
  <script defer src="js/accounts/tools-config.js"></script>
  <script defer src="js/accounts/tools-auth.js"></script>
  <script defer src="js/accounts/tools-state.js"></script>
  <script defer src="js/accounts/tools-account-ui.js"></script>
  <script src="js/privacy/config.js"></script>
  <script defer src="js/privacy/consent_manager.js"></script>
</body>
</html>
