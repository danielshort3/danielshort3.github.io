@layer components {
  :root {
    --page-transition-duration: 240ms;
  }

  body.page-transition-enabled :where(main, footer, .page-transition-target) {
    transition: opacity var(--page-transition-duration) ease-in-out,
                filter var(--page-transition-duration) ease-in-out;
  }

  body.page-transition-enabled.page-transition-enter :where(main, footer, .page-transition-target),
  body.page-transition-enabled.page-transition-exit :where(main, footer, .page-transition-target) {
    opacity: 0;
    filter: blur(6px);
  }

  body.page-transition-enabled.page-transition-exit :where(main, footer, .page-transition-target) {
    pointer-events: none;
  }

  @media (prefers-reduced-motion: reduce) {
    body.page-transition-enabled :where(main, footer, .page-transition-target) {
      transition: none;
      filter: none;
    }

    body.page-transition-enabled.page-transition-enter :where(main, footer, .page-transition-target),
    body.page-transition-enabled.page-transition-exit :where(main, footer, .page-transition-target) {
      opacity: 1;
      filter: none;
      pointer-events: auto;
    }
  }
}
