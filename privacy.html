<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <base href="/">
    <title>Privacy &amp; Analytics │ Daniel Short</title>
    <link rel="canonical" href="https://danielshort.me/privacy.html" />
    <meta name="description" content="What this site tracks (and what it doesn’t). Plain-English privacy &amp; analytics details." />

    <!-- Open Graph / Twitter (match site conventions used on other pages) -->
    <meta property="og:title" content="Privacy &amp; Analytics │ Daniel Short" />
    <meta property="og:site_name" content="Daniel Short – Data Science &amp; Analytics" />
    <meta property="og:description" content="Plain-English summary of analytics on this site." />
    <meta property="og:url" content="https://danielshort.me/privacy.html" />
    <meta property="og:image" content="https://danielshort.me/img/hero/head.jpg" />
    <meta property="og:image:alt" content="Portrait photo of Daniel Short" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@danielshort3" />

    <meta name="theme-color" content="#0D1117">
    <link rel="stylesheet" href="dist/styles.b93cc402.css" /><link rel="icon" href="favicon.ico" sizes="any">
    <link rel="icon" type="image/png" sizes="16x16" href="img/ui/logo-16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="img/ui/logo-32.png" />
    <link rel="icon" type="image/png" sizes="64x64" href="img/ui/logo-64.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="img/ui/logo-192.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="img/ui/logo-180.png" />
    <link rel="preload" as="image" href="img/ui/logo-64.png" fetchpriority="high" />

    <!-- Fonts (same pattern as other pages) -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&amp;family=Poppins:wght@500;600&amp;display=swap" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&amp;family=Poppins:wght@500;600&amp;display=swap" rel="stylesheet"></noscript>

    <!-- Page-scoped styles copied from pages/privacy.html (kept in sync) -->
    <style>
        .policy-page main { min-height: calc(var(--vh, 100vh) - var(--nav-height, 72px)); padding-top: var(--nav-height, 72px); display: grid; align-content: center; justify-items: center; margin: 0; padding-inline: 24px; }
        .policy-card { width: min(840px, 100%); box-sizing: border-box; background: var(--surface); border: 2px solid var(--primary); border-radius: 14px; box-shadow: 0 10px 24px rgba(44,169,188,.18); padding: clamp(18px, 4vw, 32px); margin: 0 auto 1.5rem; }
        .policy-card h1 { margin-top: 0; text-align: center; }
        .policy-lead { text-align: center; color: var(--text-muted); max-width: 60ch; margin: 8px auto 16px; }
        .policy-section { margin-top: 20px; }
        .policy-section h2 { margin-top: 0.2em; }
        .policy-list { padding-left: 20px; }
        .policy-meta { margin-top: 16px; font-size: .95rem; color: var(--text-muted); }
        .prefs-grid { display: grid; gap: 14px; margin-top: 18px; }
        .pref-row { display: flex; align-items: center; gap: 12px; padding: 10px 12px; border: 1px solid var(--border-subtle); border-radius: 10px; background: var(--surface-accent); }
        .pref-toggle { flex: 1; display: flex; justify-content: space-between; align-items: center; border: none; background: transparent; color: inherit; font: inherit; padding: 10px 12px; border-radius: 8px; cursor: pointer; transition: background-color 0.2s ease, box-shadow 0.2s ease, color 0.2s ease; }
        .pref-toggle.is-on { background: color-mix(in srgb, var(--primary) 22%, transparent); box-shadow: inset 0 0 0 1px var(--primary); color: var(--on-primary, #0D1117); }
        .pref-toggle.is-off { box-shadow: inset 0 0 0 1px var(--border-subtle); }
        .pref-toggle[disabled] { cursor: not-allowed; opacity: 0.75; box-shadow: inset 0 0 0 1px var(--border-subtle); }
        .pref-name { font-weight: 600; letter-spacing: 0.2px; }
        .pref-state { font-size: 0.9rem; color: var(--text-muted); }
        .pref-toggle.is-on .pref-state { color: inherit; font-weight: 600; }
        .pref-help { width: 32px; height: 32px; display: grid; place-items: center; border-radius: 50%; border: 1px solid var(--border-subtle); background: transparent; color: var(--text-muted); cursor: pointer; font-weight: 600; transition: color 0.2s ease, border-color 0.2s ease, background-color 0.2s ease; }
        .pref-help:hover,
        .pref-help:focus-visible,
        .pref-help[aria-expanded="true"] { color: var(--primary); border-color: var(--primary); background: color-mix(in srgb, var(--primary) 12%, transparent); }
        .pref-description { margin: -8px 0 12px; font-size: 0.9rem; color: var(--text-muted); padding-left: 4px; }
        #save-privacy-preferences { margin-top: 1rem; padding: 0.65rem 1.25rem; border: none; border-radius: 6px; background-color: var(--primary); color: var(--on-primary, #0D1117); cursor: pointer; font-weight: 600; }
        #save-privacy-preferences:hover { background-color: var(--primary-dark, #2ca9bc); }
        /* Ensure footer links wrap and don’t cause horizontal overflow */
        .privacy-links { display: grid; gap: 8px; justify-content: center; margin: 16px auto; padding-inline: 16px; }
        .privacy-links .pcz-link { overflow-wrap: anywhere; }
    </style>
</head>
<body class="policy-page">
    <a href="#main" class="skip-link">Skip to main content</a>
    <header id="combined-header-nav"></header>
    <main id="main">
        <section class="policy-card">
            <h1>Privacy & Analytics</h1>
            <p class="policy-lead">This page explains, in plain English, how analytics are used on this site and how you can control your preferences.</p>
            <div class="policy-section">
                <h2>What’s Tracked</h2>
                <ul class="policy-list">
                    <li>Aggregate site usage metrics (page views, navigation clicks).</li>
                    <li>Interactions on portfolio and contributions pages (filters, “see more”, project views, modal closes).</li>
                    <li>Basic engagement signals (time on page, 50% scroll depth).</li>
                </ul>
            </div>
            <div class="policy-section">
                <h2>What’s Not Tracked</h2>
                <ul class="policy-list">
                    <li>No custom PII (e.g., name, email) is collected by site scripts.</li>
                    <li>No keystrokes or form contents are captured.</li>
                </ul>
            </div>
            <div class="policy-section">
                <h2>Your Choices</h2>
                <ul class="policy-list">
                    <li>Use the form below to opt in/out of optional cookies.</li>
                    <li>Respects “Do Not Track” and Global Privacy Control (where applicable).</li>
                </ul>
            </div>
            <p class="policy-meta">Last updated: August 2025</p>
        </section>
        <section class="policy-card" aria-labelledby="prefs-title">
            <h1 id="prefs-title">Manage Your Privacy Settings</h1>
            <p class="policy-lead">Use the buttons below to enable or disable each category, then click “Save preferences”. Strictly necessary cookies stay on to keep the site working.</p>
            <form id="privacy-preferences-form" class="prefs-grid">
                <div class="pref-row">
                    <button type="button" class="pref-toggle is-on" data-category="necessary" aria-pressed="true" disabled>
                        <span class="pref-name">Strictly necessary</span>
                        <span class="pref-state" data-state-label>Enabled (required)</span>
                    </button>
                    <button type="button" class="pref-help" aria-expanded="false" aria-controls="pref-desc-necessary" aria-label="What are strictly necessary cookies?">?</button>
                </div>
                <p id="pref-desc-necessary" class="pref-description" hidden>Strictly necessary cookies are required for basic site features such as navigation and access to secure areas. You can’t turn them off.</p>

                <div class="pref-row">
                    <button type="button" class="pref-toggle is-off" data-category="analytics" aria-pressed="false">
                        <span class="pref-name">Analytics</span>
                        <span class="pref-state" data-state-label>Disabled</span>
                    </button>
                    <button type="button" class="pref-help" aria-expanded="false" aria-controls="pref-desc-analytics" aria-label="What are analytics cookies?">?</button>
                </div>
                <p id="pref-desc-analytics" class="pref-description" hidden>Analytics cookies help measure site traffic, navigation patterns, and performance so I can improve the experience.</p>

                <div class="pref-row">
                    <button type="button" class="pref-toggle is-off" data-category="functional" aria-pressed="false">
                        <span class="pref-name">Functional</span>
                        <span class="pref-state" data-state-label>Disabled</span>
                    </button>
                    <button type="button" class="pref-help" aria-expanded="false" aria-controls="pref-desc-functional" aria-label="What are functional cookies?">?</button>
                </div>
                <p id="pref-desc-functional" class="pref-description" hidden>Functional cookies remember your preferences and provide enhanced features such as saved filters or language choices.</p>

                <div class="pref-row">
                    <button type="button" class="pref-toggle is-off" data-category="advertising" aria-pressed="false">
                        <span class="pref-name">Advertising</span>
                        <span class="pref-state" data-state-label>Disabled</span>
                    </button>
                    <button type="button" class="pref-help" aria-expanded="false" aria-controls="pref-desc-advertising" aria-label="What are advertising cookies?">?</button>
                </div>
                <p id="pref-desc-advertising" class="pref-description" hidden>Advertising cookies are used to deliver relevant ads and to measure the effectiveness of marketing campaigns.</p>

                <button type="button" id="save-privacy-preferences">Save preferences</button>
            </form>
            <p id="privacy-preferences-status" class="policy-lead" role="alert"></p>
        </section>
    </main>
    <footer>
        <nav class="privacy-links" aria-label="Privacy shortcuts">
            <button id="privacy-settings-link" type="button" class="pcz-link">Privacy settings</button>
            <a href="#" class="pcz-link" onclick="window.Privacy && window.Privacy.open('doNotSell'); return false;">Do Not Sell/Share My Personal Information</a>
        </nav>
    </footer>
    <script defer src="js/common/common.js"></script>
    <script defer src="js/navigation/navigation.js"></script>
    <script src="js/privacy/config.js"></script>
    <script defer src="js/privacy/consent_manager.js"></script>
    <script>
    (function() {
        function setToggleState(btn, state) {
            var on = !!state;
            btn.setAttribute('aria-pressed', on ? 'true' : 'false');
            btn.classList.toggle('is-on', on);
            btn.classList.toggle('is-off', !on);
            var label = btn.querySelector('[data-state-label]');
            if (label) {
                if (btn.dataset.category === 'necessary') {
                    label.textContent = 'Enabled (required)';
                } else {
                    label.textContent = on ? 'Enabled' : 'Disabled';
                }
            }
        }

        function getToggleState(btn) {
            return btn.getAttribute('aria-pressed') === 'true';
        }

        function syncForm() {
            if (!window.consentAPI || typeof window.consentAPI.get !== 'function') {
                setTimeout(syncForm, 100);
                return;
            }
            var prefs = window.consentAPI.get() || { analytics: false, functional: false, advertising: false };
            document.querySelectorAll('.pref-toggle').forEach(function(btn) {
                var category = btn.dataset.category;
                if (!category) return;
                if (category === 'necessary') {
                    setToggleState(btn, true);
                    return;
                }
                setToggleState(btn, !!prefs[category]);
            });
        }

        function init() {
            document.querySelectorAll('.pref-toggle').forEach(function(btn) {
                if (btn.disabled) return;
                btn.addEventListener('click', function() {
                    var next = btn.getAttribute('aria-pressed') !== 'true';
                    setToggleState(btn, next);
                });
            });

            document.querySelectorAll('.pref-help').forEach(function(btn) {
                btn.addEventListener('click', function() {
                    var expanded = btn.getAttribute('aria-expanded') === 'true';
                    var targetId = btn.getAttribute('aria-controls');
                    var target = targetId ? document.getElementById(targetId) : null;
                    btn.setAttribute('aria-expanded', expanded ? 'false' : 'true');
                    if (target) target.hidden = expanded;
                });
            });

            var saveBtn = document.getElementById('save-privacy-preferences');
            if (saveBtn) {
                saveBtn.addEventListener('click', function() {
                    if (!window.consentAPI || typeof window.consentAPI.set !== 'function') return;
                    var newPrefs = {};
                    document.querySelectorAll('.pref-toggle').forEach(function(btn) {
                        var category = btn.dataset.category;
                        if (!category || category === 'necessary') return;
                        newPrefs[category] = getToggleState(btn);
                    });
                    window.consentAPI.set(newPrefs);
                    syncForm();
                    var statusEl = document.getElementById('privacy-preferences-status');
                    if (statusEl) statusEl.textContent = 'Your preferences have been saved.';
                });
            }

            syncForm();
        }

        document.addEventListener('DOMContentLoaded', init);
    })();
    </script>
</body>
</html>
