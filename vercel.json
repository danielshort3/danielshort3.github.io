{
  "cleanUrls": true,
  "trailingSlash": false,
  "rewrites": [
    { "source": "/go/:slug*", "has": [{ "type": "host", "value": "dshort.me" }], "destination": "/api/go/:slug*" },
    { "source": "/go/:slug*", "has": [{ "type": "host", "value": "www.dshort.me" }], "destination": "/api/go/:slug*" },
    { "source": "/:slug*", "has": [{ "type": "host", "value": "dshort.me" }], "destination": "/api/go/:slug*" },
    { "source": "/:slug*", "has": [{ "type": "host", "value": "www.dshort.me" }], "destination": "/api/go/:slug*" },
    { "source": "/go/:slug*", "destination": "/api/go/:slug*" },
    { "source": "/portfolio", "has": [{ "type": "query", "key": "project" }], "destination": "/api/portfolio-redirect" },
    { "source": "/portfolio.html", "has": [{ "type": "query", "key": "project" }], "destination": "/api/portfolio-redirect" },
    { "source": "/portfolio/:project", "destination": "/pages/portfolio/:project" },
    { "source": "/portfolio/:project.html", "destination": "/pages/portfolio/:project" },
    { "source": "/portfolio",         "destination": "/pages/portfolio" },
    { "source": "/portfolio.html",    "destination": "/pages/portfolio" },
    { "source": "/contact",           "destination": "/pages/contact" },
    { "source": "/contact.html",      "destination": "/pages/contact" },
    { "source": "/contributions",     "destination": "/pages/contributions" },
    { "source": "/contributions.html","destination": "/pages/contributions" },
    { "source": "/privacy",           "destination": "/pages/privacy" },
    { "source": "/privacy.html",      "destination": "/pages/privacy" },
    { "source": "/resume",            "destination": "/pages/resume" },
    { "source": "/resume.html",       "destination": "/pages/resume" },
    { "source": "/resume-pdf",        "destination": "/pages/resume-pdf" },
    { "source": "/resume-pdf.html",   "destination": "/pages/resume-pdf" },
    { "source": "/search",            "destination": "/pages/search" },
    { "source": "/search.html",       "destination": "/pages/search" },
    { "source": "/sitemap",           "destination": "/pages/sitemap" },
    { "source": "/sitemap.html",      "destination": "/pages/sitemap" },
    { "source": "/word-frequency",    "destination": "/pages/word-frequency" },
    { "source": "/word-frequency.html","destination": "/pages/word-frequency" },
    { "source": "/tools/word-frequency","destination": "/pages/word-frequency" },
    { "source": "/tools/word-frequency.html","destination": "/pages/word-frequency" },
    { "source": "/tools/text-compare","destination": "/pages/text-compare" },
    { "source": "/tools/text-compare.html","destination": "/pages/text-compare" },
    { "source": "/tools/short-links","destination": "/pages/short-links" },
    { "source": "/tools/short-links.html","destination": "/pages/short-links" },
    { "source": "/short-links","destination": "/pages/short-links" },
    { "source": "/short-links.html","destination": "/pages/short-links" },
    { "source": "/tools/point-of-view-checker","destination": "/pages/point-of-view-checker" },
    { "source": "/tools/point-of-view-checker.html","destination": "/pages/point-of-view-checker" },
    { "source": "/tools/oxford-comma-checker","destination": "/pages/oxford-comma-checker" },
    { "source": "/tools/oxford-comma-checker.html","destination": "/pages/oxford-comma-checker" },
    { "source": "/oxford-comma-checker","destination": "/pages/oxford-comma-checker" },
    { "source": "/oxford-comma-checker.html","destination": "/pages/oxford-comma-checker" },
    { "source": "/tools/background-remover","destination": "/pages/background-remover" },
    { "source": "/tools/background-remover.html","destination": "/pages/background-remover" },
    { "source": "/tools/image-optimizer","destination": "/pages/image-optimizer" },
    { "source": "/tools/image-optimizer.html","destination": "/pages/image-optimizer" },
    { "source": "/tools/qr-code-generator","destination": "/pages/qr-code-generator" },
    { "source": "/tools/qr-code-generator.html","destination": "/pages/qr-code-generator" },
    { "source": "/tools/dashboard","destination": "/pages/tools-dashboard" },
    { "source": "/tools/dashboard.html","destination": "/pages/tools-dashboard" },
    { "source": "/tools/screen-recorder","destination": "/pages/screen-recorder" },
    { "source": "/tools/screen-recorder.html","destination": "/pages/screen-recorder" },
    { "source": "/tools/job-application-tracker","destination": "/pages/job-application-tracker" },
    { "source": "/tools/job-application-tracker.html","destination": "/pages/job-application-tracker" },
    { "source": "/tools",             "destination": "/pages/tools" },
    { "source": "/tools.html",        "destination": "/pages/tools" },
    { "source": "/nbsp-cleaner",      "destination": "/pages/nbsp-cleaner" },
    { "source": "/nbsp-cleaner.html", "destination": "/pages/nbsp-cleaner" },
    { "source": "/tools/nbsp-cleaner","destination": "/pages/nbsp-cleaner" },
    { "source": "/tools/nbsp-cleaner.html","destination": "/pages/nbsp-cleaner" },

    { "source": "/tools/utm-batch-builder","destination": "/pages/utm-batch-builder" },
    { "source": "/tools/utm-batch-builder.html","destination": "/pages/utm-batch-builder" },
    { "source": "/tools/whisper-transcribe-monitor","destination": "/pages/whisper-transcribe-monitor" },
    { "source": "/tools/whisper-transcribe-monitor.html","destination": "/pages/whisper-transcribe-monitor" },

    { "source": "/games/stellar-dogfight", "destination": "/demos/stellar-dogfight-demo" },
    { "source": "/games/stellar-dogfight.html", "destination": "/demos/stellar-dogfight-demo" },
    { "source": "/games/slot-machine", "destination": "/demos/slot-machine-demo" },
    { "source": "/games/slot-machine.html", "destination": "/demos/slot-machine-demo" },
    { "source": "/games/ocean-wave-simulation", "destination": "/pages/ocean-wave-simulation" },
    { "source": "/games/ocean-wave-simulation.html", "destination": "/pages/ocean-wave-simulation" },
    { "source": "/games",             "destination": "/pages/games" },
    { "source": "/games.html",        "destination": "/pages/games" },

    { "source": "/chatbot-demo",      "destination": "/demos/chatbot-demo" },
    { "source": "/chatbot-demo.html", "destination": "/demos/chatbot-demo" },
    { "source": "/shape-demo",        "destination": "/demos/shape-demo" },
    { "source": "/shape-demo.html",   "destination": "/demos/shape-demo" },
    { "source": "/handwriting-rating-demo",     "destination": "/demos/handwriting-rating-demo" },
    { "source": "/handwriting-rating-demo.html","destination": "/demos/handwriting-rating-demo" },
    { "source": "/sentence-demo",     "destination": "/demos/sentence-demo" },
    { "source": "/sentence-demo.html","destination": "/demos/sentence-demo" },
    { "source": "/covid-outbreak-demo",     "destination": "/demos/covid-outbreak-demo" },
    { "source": "/covid-outbreak-demo.html","destination": "/demos/covid-outbreak-demo" },
    { "source": "/baby-names-demo",     "destination": "/demos/baby-names-demo" },
    { "source": "/baby-names-demo.html","destination": "/demos/baby-names-demo" },
    { "source": "/nonogram-demo",     "destination": "/demos/nonogram-demo" },
    { "source": "/nonogram-demo.html","destination": "/demos/nonogram-demo" },
    { "source": "/minesweeper-demo",     "destination": "/demos/minesweeper-demo" },
    { "source": "/minesweeper-demo.html","destination": "/demos/minesweeper-demo" },
    { "source": "/digit-generator-demo",     "destination": "/demos/digit-generator-demo" },
    { "source": "/digit-generator-demo.html","destination": "/demos/digit-generator-demo" },
    { "source": "/pizza-tips-demo", "destination": "/demos/pizza-tips-demo" },
    { "source": "/pizza-tips-demo.html", "destination": "/demos/pizza-tips-demo" },
    { "source": "/target-empty-package-demo", "destination": "/demos/target-empty-package-demo" },
    { "source": "/target-empty-package-demo.html", "destination": "/demos/target-empty-package-demo" },
    { "source": "/retail-loss-sales-demo", "destination": "/demos/retail-loss-sales-demo" },
    { "source": "/retail-loss-sales-demo.html", "destination": "/demos/retail-loss-sales-demo" },
    { "source": "/slot-machine-demo", "destination": "/demos/slot-machine-demo" },
    { "source": "/slot-machine-demo.html", "destination": "/demos/slot-machine-demo" }
  ],
  "redirects": [
    { "source": "/", "has": [{ "type": "host", "value": "dshort.me" }], "destination": "https://danielshort.me", "permanent": true },
    { "source": "/", "has": [{ "type": "host", "value": "www.dshort.me" }], "destination": "https://danielshort.me", "permanent": true },
    { "source": "/tools/ocean-wave-simulation", "destination": "/games/ocean-wave-simulation", "permanent": true },
    { "source": "/tools/ocean-wave-simulation.html", "destination": "/games/ocean-wave-simulation", "permanent": true },
    { "source": "/projects", "destination": "/portfolio", "permanent": true },
    { "source": "/projects/(.*)", "destination": "/portfolio", "permanent": true }
  ],
  "headers": [
    {
      "source": "/pages/(.*)",
      "headers": [
        { "key": "X-Robots-Tag", "value": "noindex" }
      ]
    },
    {
      "source": "/tools/background-remover",
      "headers": [
        { "key": "Cross-Origin-Opener-Policy", "value": "same-origin" },
        { "key": "Cross-Origin-Embedder-Policy", "value": "require-corp" }
      ]
    },
    {
      "source": "/tools/background-remover.html",
      "headers": [
        { "key": "Cross-Origin-Opener-Policy", "value": "same-origin" },
        { "key": "Cross-Origin-Embedder-Policy", "value": "require-corp" }
      ]
    },
    {
      "source": "/pages/background-remover",
      "headers": [
        { "key": "Cross-Origin-Opener-Policy", "value": "same-origin" },
        { "key": "Cross-Origin-Embedder-Policy", "value": "require-corp" }
      ]
    },
    {
      "source": "/(.*)",
      "headers": [
        { "key": "X-Content-Type-Options", "value": "nosniff" },
        { "key": "Referrer-Policy", "value": "strict-origin-when-cross-origin" },
        { "key": "Permissions-Policy", "value": "accelerometer=(), autoplay=(), camera=(self), display-capture=(self), geolocation=(), microphone=(self), payment=()" },
        { "key": "Strict-Transport-Security", "value": "max-age=31536000; includeSubDomains; preload" },
        {
          "key": "Content-Security-Policy",
          "value": "default-src 'self'; img-src 'self' data: blob: https:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; media-src 'self' blob:; script-src 'self' blob: 'unsafe-inline' 'unsafe-eval' 'wasm-unsafe-eval' https://www.googletagmanager.com https://www.google-analytics.com https://cdn.jsdelivr.net https://staticimgly.com https://cdnjs.cloudflare.com https://public.tableau.com; script-src-elem 'self' blob: 'unsafe-inline' 'unsafe-eval' 'wasm-unsafe-eval' https://www.googletagmanager.com https://www.google-analytics.com https://cdn.jsdelivr.net https://staticimgly.com https://cdnjs.cloudflare.com https://public.tableau.com; worker-src 'self' blob: https://cdn.jsdelivr.net https://staticimgly.com; child-src 'self' blob: https://cdn.jsdelivr.net https://staticimgly.com; connect-src 'self' blob: https://www.google-analytics.com https://www.googletagmanager.com https://cdn.jsdelivr.net https://staticimgly.com https://*.execute-api.us-east-2.amazonaws.com https://*.auth.us-east-2.amazoncognito.com https://*.s3.amazonaws.com https://*.s3.us-east-2.amazonaws.com https://ovodkr9oad.execute-api.us-east-2.amazonaws.com https://public.tableau.com https://zcosyfxhs3sntpwzo3qayki2he0kdxkw.lambda-url.us-east-2.on.aws https://7aa3jt3tzkinheprc5ds52bihq0itutx.lambda-url.us-east-2.on.aws https://gw676aqgd4lpcoxngfvnfki5ce0urcfg.lambda-url.us-east-2.on.aws https://wklw5cb75voj4idwbnigdt6p7a0zrxwv.lambda-url.us-east-2.on.aws https://w7jbsr55oggohong42ii6wo3jq0bvkvq.lambda-url.us-east-2.on.aws https://lv4inwnj6yyo3kfdajpk2v5eda0hrtao.lambda-url.us-east-2.on.aws https://2d6lrg4ozy564xymwi2epjbqty0nvhje.lambda-url.us-east-2.on.aws https://e7axe2ymmx2kadovfvvji23wkq0xmybn.lambda-url.us-east-2.on.aws https://oafstar74okqvfqaxayeici3ry0yikkx.lambda-url.us-east-2.on.aws https://jnvd3mdbyb5f44yh4afzsvqlwy0mdtzy.lambda-url.us-east-2.on.aws https://coxbbervgzwhm5tu53dutxwfca0vxdkg.lambda-url.us-east-2.on.aws https://muee4eg6ze.execute-api.us-east-2.amazonaws.com https://4kvebym8b3.execute-api.us-east-2.amazonaws.com; frame-src 'self' https://public.tableau.com https://docs.google.com;"
        }
      ]
    },
    {
      "source": "/img/(.*)",
      "headers": [
        { "key": "Cache-Control", "value": "public, max-age=2592000" }
      ]
    },
    {
      "source": "/dist/styles\\.[0-9a-f]{8}\\.css",
      "headers": [
        { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" }
      ]
    },
    {
      "source": "/dist/styles.css",
      "headers": [
        { "key": "Cache-Control", "value": "public, max-age=0, must-revalidate" }
      ]
    }
  ]
}
