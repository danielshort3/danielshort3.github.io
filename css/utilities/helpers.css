/* ===================================================================
   File: helpers.css
   Purpose: Reveal animations and misc helpers
=================================================================== */
@layer utilities {
/* Utility helpers and page-specific tweaks */
/* ───────────────────────────────────────────────────────────
   11.  REVEAL + EXTRAS
   ─────────────────────────────────────────────────────────── */
.reveal{opacity:0;transform:translateY(50px);transition:opacity .7s cubic-bezier(.2,.7,.3,1),transform .7s cubic-bezier(.2,.7,.3,1)}
.reveal.active{opacity:1;transform:none}
.interest-pad{
    padding:48px 0;
}
#filters{
  margin-top:0;
  transition:height .45s cubic-bezier(.22,.61,.36,1),
             padding .45s cubic-bezier(.22,.61,.36,1),
             opacity .35s ease;
  will-change:height,padding,opacity
}
#filters.grid-fade{opacity:0}

/* gap between carousel and filters */
#carousel-gap{
  padding:32px 0; /* 64px total spacing */
  background:var(--surface);
  transition:padding .45s cubic-bezier(.22,.61,.36,1),
             opacity .35s ease;
  will-change:padding,opacity
}
#carousel-gap.grid-fade{opacity:0}
.contact-big{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:28px;padding:32px
}

@media (max-width:768px){
  /* keep cards full-width with breathing room on mobile */
  .contact-big{padding:28px 0 32px}
}
.contact-big .contact-card{padding:32px}
.contact-card i{font-size:38px}

/* ─────────────────────────────────────────────────────────── */
  /* Performance: avoid work for offscreen sections */
  #projects.grid { content-visibility: auto; contain-intrinsic-size: 800px; }
  .docs-grid     { content-visibility: auto; contain-intrinsic-size: 600px; }
  .featured-track, .cert-track { content-visibility: auto; contain-intrinsic-size: 220px; }

  /* Back to top button */
  .back-to-top{
    position:fixed;right:22px;bottom:22px;z-index:1100;
    width:56px;height:56px;border-radius:18px;
    border:none;line-height:0;
    background:linear-gradient(140deg,
      color-mix(in srgb,var(--primary) 92%,#fff 18%) 0%,
      color-mix(in srgb,var(--primary) 58%,#000 24%) 100%);
    color:#F6FBFF;
    display:inline-flex;align-items:center;justify-content:center;
    box-shadow:0 16px 34px rgba(0,0,0,.35),inset 0 1px 0 rgba(255,255,255,.18);
    opacity:0;transform:translateY(12px) scale(.94);pointer-events:none;
    transition:opacity .32s cubic-bezier(.22,.61,.36,1),
              transform .32s cubic-bezier(.22,.61,.36,1),
              box-shadow .32s ease,background .32s ease;
    overflow:hidden;
  }
  .back-to-top::before{
    content:"";
    position:absolute;inset:1px;
    border-radius:inherit;
    background:radial-gradient(120% 120% at 70% 18%,rgba(255,255,255,.24),transparent 55%);
    pointer-events:none;
    opacity:.95;
  }
  .back-to-top__icon{
    position:relative;
    display:grid;place-items:center;
    z-index:1;
  }
  .back-to-top__icon svg{
    width:24px;height:24px;color:inherit;
    transition:transform .32s ease,opacity .32s ease;
  }
  .back-to-top.show{
    opacity:1;transform:translateY(0) scale(1);pointer-events:auto;
  }
  .back-to-top:hover{
    background:linear-gradient(150deg,
      color-mix(in srgb,var(--primary) 98%,#fff 22%) 0%,
      color-mix(in srgb,var(--primary) 66%,#000 18%) 100%);
    box-shadow:0 20px 40px rgba(0,0,0,.42),inset 0 1px 0 rgba(255,255,255,.22);
  }
  .back-to-top:hover .back-to-top__icon svg{
    transform:translateY(-1px);
  }
  .back-to-top:active{
    transform:translateY(2px) scale(.96);
  }
  .back-to-top:active .back-to-top__icon svg{
    opacity:.85;
  }
  .back-to-top:focus-visible{
    outline:2px solid color-mix(in srgb,var(--focus) 75%,#fff 20%);
    outline-offset:4px;
  }
  @media (prefers-reduced-motion: reduce){
    .back-to-top{
      transition:opacity .2s ease;
    }
    .back-to-top:active{
      transform:translateY(0) scale(1);
    }
    .back-to-top:hover .back-to-top__icon svg,
    .back-to-top:active .back-to-top__icon svg{
      transform:none;
    }
  }
}
